<!doctype html><html><head><title>Apache Notes</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><meta property="og:title" content="Apache Notes"><meta property="og:description" content="General Show active Vhost configuration in Apache
apache2ctl -SEnable vhost in apache
a2ensite $VHOST.confDisable vhost in apache
a2dissite $VHOST.confEnable SSL in apache
a3enmod sslCheck for errors in apache
apache2ctl configtest    Basic Auth with Apache Virtualhost Note This will NOT work while using wordpress with .htaccess file Install Apache utils package
apt-get updateapt-get install apache2-utilscreate password file and user
htpasswd -c /etc/apache2/."><meta property="og:type" content="article"><meta property="og:url" content="https://resettech.net/notes/apache/apache_notes/"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/notes.css><link rel=stylesheet href=/css/navigators/sidebar.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','G-KLVVMMV4CY','auto');ga('send','pageview');}</script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/>Reset_Smith's Blog</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/notes data-filter=all>Notes</a></li><div class=subtree><li><a href=/notes/ubuntu/ title=Ubuntu>Ubuntu</a></li><li><a href=/notes/ubuntu_18/ title="Ubuntu 18">Ubuntu 18</a></li><li><a href=/notes/wordpress/ title=WordPress>WordPress</a></li><li><a href=/notes/hugo/ title=Hugo>Hugo</a></li><li><i class="fas fa-minus-circle"></i><a class=active href=/notes/apache/>Apache</a><ul class=active><li><a class=active href=/notes/apache/apache_notes/ title="Apache Notes">Apache Notes</a></li><li><a href=/notes/apache/ex_configs/ title="Apache Conf Ex">Apache Conf Ex</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/notes/monitoring/>Monitoring</a><ul><li><a href=/notes/monitoring/prometheus/ title=Prometheus>Prometheus</a></li><li><a href=/notes/monitoring/elastic/ title=Elastic>Elastic</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid note-card-holder" id=note-card-holder><div class=note-card><div class=item><h5 class=note-title><span>General</span></h5><div class=card><div class=card-body><p>Show active Vhost configuration in Apache</p><pre><code>apache2ctl -S
</code></pre><p>Enable vhost in apache</p><pre><code>a2ensite $VHOST.conf
</code></pre><p>Disable vhost in apache</p><pre><code>a2dissite $VHOST.conf
</code></pre><p>Enable SSL in apache</p><pre><code>a3enmod ssl
</code></pre><p>Check for errors in apache</p><pre><code>apache2ctl configtest
</code></pre></div></div></div></div><div class=note-card><div class=item><h5 class=note-title><span>Basic Auth with Apache Virtualhost</span></h5><div class=card><div class=card-body><p><em>Note This will NOT work while using wordpress with .htaccess file</em>
Install Apache utils package</p><pre><code>apt-get update
apt-get install apache2-utils
</code></pre><p>create password file and user</p><pre><code>htpasswd -c /etc/apache2/.htpasswd $USERNAME
</code></pre><p>LEAVE OFF -c for additional users</p><pre><code>htpasswd /etc/apache2/.htpasswd $USERNAME2
</code></pre><p><em>Must be added to the &lsquo;Directory&rsquo; section of the Apache VirtualHost file</em></p><pre><code>  AuthType Basic
  AuthName &quot;Restricted Content&quot;
  AuthUserFile /etc/apache2/.htpasswd
  Require valid-user
</code></pre><p>check apache configuration</p><pre><code>apache2ctl configtest
</code></pre><p>restart apache</p><pre><code>systemctl restart apache
</code></pre><p>if seeing misconfiguration errors, may need to update ownership of .htpasswd</p><pre><code>chown www-data:www-data /etc/apache2/.htpasswd
</code></pre></div></div></div></div></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><a href="mailto:JohnDMarks@gmail.com?subject=&cc=&bcc=&body=">Email Me</a></div><div class="col-md-4 col-sm-12"><h5>Images provided by:</h5><ul><li><a href=https://www.freepik.com>www.Freepik.com</a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">Â© 2021 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script><script type=text/javascript src=/js/popper.min.js></script><script type=text/javascript src=/js/bootstrap.min.js></script><script type=text/javascript src=/js/navbar.js></script><script type=text/javascript src=/js/plyr.js></script><script type=text/javascript src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/imagesloaded.pkgd.min.js></script><script src=/js/note.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>